<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Phoenix Nemo">
    <meta name="description" content="MinoriWiki demo site">
    <title>
                NAT - MinoriWiki            </title>
    <link href="/MinoriWiki/assets/bootstrap.min.css" rel="stylesheet"/>
    <link href="/MinoriWiki/assets/style.css" rel="stylesheet"/>
    <script src="/MinoriWiki/assets/highlight.min.js"></script>
</head>
<body>
<div class="container">
    <div class="page-header">
                <h1><a href="/MinoriWiki/" class="logo-text">MinoriWiki</a>&nbsp;<small>/NAT</small></h1>
            </div>
<div class="row">
<!-- two columns -->
<div class="col-lg-3 col-md-3">
<div class="panel panel-primary">
    <div class="panel-heading">
        <h3 class="panel-title">About</h3>
    </div>
    <div class="panel-body">
		<p>This is the demo site of <a href="https://github.com/phoenixlzx/MinoriWiki">MinoriWiki</a></p>
		<p>And a partial mirror of <a href="https://felixc.at">FelixWiki</a>.</p>
    </div>
</div>
<div class="panel panel-primary">
    <div class="panel-heading">
        <h3 class="panel-title">Navigation</h3>
    </div>
    <div class="panel-body">
        <h6><a href="/MinoriWiki/">Homepage</a></h6>
                <h5>Network Operation</h5>
        <ul class="list-unstyled">
                        <li><a href="/MinoriWiki/page/DoS">DoS</a></li>
                    </ul>
                <h5>Server Configuration</h5>
        <ul class="list-unstyled">
                        <li><a href="/MinoriWiki/page/MongoDB">MongoDB</a></li>
                        <li><a href="/MinoriWiki/page/Nginx">Nginx</a></li>
                        <li><a href="/MinoriWiki/page/PHP">PHP</a></li>
                        <li><a href="/MinoriWiki/page/SSH">SSH</a></li>
                    </ul>
                <h5>Network Configuration</h5>
        <ul class="list-unstyled">
                        <li><a href="/MinoriWiki/page/NAT">NAT</a></li>
                        <li><a href="/MinoriWiki/page/PortForwarding">PortForwarding</a></li>
                    </ul>
                <h5>Desktop Related</h5>
        <ul class="list-unstyled">
                        <li><a href="/MinoriWiki/page/Tmux">Tmux</a></li>
                        <li><a href="/MinoriWiki/page/URxvt">URxvt</a></li>
                    </ul>
            </div>
</div>
</div>
<div class="col-lg-9 col-md-9 col-sm-12">
<div class="index-content">
<div class="row">
<span class="label label-primary pull-right">Network Configuration</span>
</div>
<div class="row">
<h4 id="enable-ip-forwarding-first">Enable IP Forwarding First</h4>
<pre><code>sed -i &#39;s/.*net\.ipv4\.ip_forward.*/net.ipv4.ip_forward = 1/&#39; /etc/sysctl.conf
sysctl -p
</code></pre><h4 id="nat-using-iptables">NAT using iptables</h4>
<h5 id="recommended-way-if-ip-is-static-">Recommended Way (If IP is static)</h5>
<pre><code>iptables -t nat -A POSTROUTING -s 10.0.0.0/8 -j SNAT --to-source &lt;IP&gt;
</code></pre><h5 id="another-way-openvz-won-t-work-this-way-">Another Way (OpenVZ wonâ€™t work this way)</h5>
<pre><code>iptables -t nat -A POSTROUTING -s 10.0.0.0/8 -j MASQUERADE
</code></pre><p>Or if you want to MASQUERADE all interfaces:</p>
<pre><code>iptables -t nat -A POSTROUTING ! -o lo -j MASQUERADE
</code></pre></div>
<div class="row">
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'minoriwikidemo';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div>
</div>
</div>
</div>
</div>
<div class="footer">
    <div class="footer-text">
        <p>
            MinoriWiki using <a href="https://github.com/phoenixlzx/MinoriWiki" target="_blank">MinoriWiki</a>
        </p>
    </div>
</div>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
